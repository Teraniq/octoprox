# Octoprox Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Security Configuration
# =============================================================================

# Secret key for session management and token signing (REQUIRED)
# Generate a strong random string, e.g.:
# openssl rand -hex 32
SECRET_KEY=your-super-secret-key-change-this-in-production

# =============================================================================
# JWT Configuration (NEXUSGATE Integration)
# =============================================================================

# Secret key for JWT signing (REQUIRED - minimum 32 characters)
# Generate a strong random string, e.g.:
# openssl rand -base64 64
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production-minimum-32-chars

# JWT signing algorithm (default: HS256)
JWT_ALGORITHM=HS256

# JWT access token expiry in minutes (default: 15)
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15

# =============================================================================
# NEXUSGATE Integration
# =============================================================================

# Enable NEXUSGATE integration (default: false)
NEXUSGATE_INTEGRATION_ENABLED=false

# Optional introspection endpoint secret for NEXUSGATE communication
# Leave empty if not using introspection features
INTROSPECT_SECRET=

# =============================================================================
# Database Configuration
# =============================================================================

# SQLite database URL (default: sqlite:///./data/manager.db)
DATABASE_URL=sqlite:///./data/manager.db

# =============================================================================
# Bootstrap Admin Configuration
# =============================================================================

# Initial admin username (REQUIRED)
BOOTSTRAP_ADMIN_USERNAME=admin

# Initial admin password (REQUIRED - change in production!)
BOOTSTRAP_ADMIN_PASSWORD=changeme

# =============================================================================
# Application Configuration
# =============================================================================

# Public base URL for the application (default: http://localhost:8080)
PUBLIC_BASE_URL=http://localhost:8080

# Workspace purge interval in seconds (default: 300)
PURGE_INTERVAL_SECONDS=300

# Docker image for workspace containers (default: mcp-gitfs:latest)
WORKSPACE_IMAGE=mcp-gitfs:latest

# Docker network name for workspaces (default: mcpnet)
DOCKER_NETWORK=mcpnet

# =============================================================================
# Rate Limiting
# =============================================================================

# General API requests per minute (default: 200)
API_RATE_LIMIT=200

# Auth endpoint requests per minute (default: 60)
AUTH_RATE_LIMIT=60

# =============================================================================
# HTTPS Enforcement
# =============================================================================

# Enable HTTPS enforcement and HSTS header (default: false)
# Set to true in production when running behind HTTPS
ENFORCE_HTTPS=false

# HSTS max-age in seconds (default: 31536000 = 1 year)
HSTS_MAX_AGE=31536000

# Include subdomains in HSTS (default: true)
HSTS_INCLUDE_SUBDOMAINS=true
